package com.example.demo.services;

import java.util.Date;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.example.demo.models.Diagnosis;
import com.example.demo.models.Disarmaments;
import com.example.demo.repositories.DisarmamentsRepository;

@Service
public class DisarmamentsService {

	@Autowired
	DisarmamentsRepository disarmamentsRepo;
	
	// Devuelve todos los desarmes
		public List<Disarmaments> allDisarmament(){
			return disarmamentsRepo.findAll();
		}
		// Devuelve un desarme
		public Disarmaments disarmament(Long id) {
			return disarmamentsRepo.findById(id).orElse(null);
		}
		// Guarda un desarme
		public Disarmaments saveDisarmament(Disarmaments disarmament) {
			return disarmamentsRepo.save(disarmament);
		}
		// Elimina un desarme
		public void deleteDisarmament(Long diagnosisId) {
			disarmamentsRepo.deleteById(diagnosisId);
		}
		// Devuelve todos los diagnosticos de acuerdo a su precio de reparacion, en orden ascendente
		public List<Disarmaments> allDiagnosisByPriceAsc(){
			return disarmamentsRepo.findAllByOrderByRepairPriceAsc();
		}
		// Devuelve todos los diagnosticos de acuerdo a su precio de reparacion, en orden descendente
		public List<Disarmaments> allDiagnosisByPriceDesc(){
			return disarmamentsRepo.findAllByOrderByRepairPriceDesc();
		}
		// Devuelve todos los diagnosticos de acuerdo a su fecha, en orden ascendente
		public List<Disarmaments> allDiagnosisByDateAsc(){
			return disarmamentsRepo.findAllByOrderByDiagnosisDateAsc();
		}
		// Devuelve todos los diagnosticos de acuerdo a su fecha, en orden descendente
		public List<Disarmaments> allDiagnosisByDateDesc(){
			return disarmamentsRepo.findAllByOrderByDiagnosisDateDesc();
		}
		// Devuelve todos los diagnosticos de acuerdo a una fecha especifica
		public List<Disarmaments> allDiagnosisByDateFilter(Date diagnosisDate){
			return disarmamentsRepo.findByCommunicationDate(diagnosisDate);
		}
		// Devuelve el diagnostico de acuerdo a un numero de recibo
		public Disarmaments diagnosisByReceipt(String numberReceipt){
			return disarmamentsRepo.findByProduct_NumberReceipt(numberReceipt);
		}
}
